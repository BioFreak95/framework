<?

require_once 'functions.php';
$field= $this->field;
$translate= Zend_Registry :: getInstance()->get('Zend_Translate');
?>
<div class="<?= $field->getFieldType() ?>">
<?

if ($field->isMandatory())
{
    print ('<img src="../../../library/Opus/Form/mandatory.gif" width="20" />');
}
?>
<b>
<?= $translate->_($field->getName() . '_caption') ?>
</b>
<br>
<?= $translate->_($field->getName().'_description') ?> 
<?

$i= 0;
$language= $field->getValuesLanguage();
//rint("<b>".print_r($field->getValues(),true)."<br>".print_r($language)."</b>");
     /*$output = '';
$output .= '<tr>' . "\n" . 
        '<td>' .
        '   <input type = "text" ' .
        '           name = "' . $field->getFieldType() . '[value][%1$d]" ' . 
        '           value = "%2$s">' .
        '</td>' . "\n" . 
        '<td>';
        
        if ($field->hasLanguage()) {
            $output .= $translate->_('Sprache') . 
                    ': <input name="' . $field->getFieldType() . '[language][%1$d]" ' .
                            ' type="text" ' . 
                            ' value="%3$s" />';
        }
        
$output .= '</td>' . "\n".
        '</tr>';  */ 
print ('<br><table>');

foreach ($field->getValues() as $number => $value)
{
    $i++;
    /*$errorMessages = $field->getErrorMessages();
    if (isset($errorMessages[$number])) {
        $errorMessages[$number];
    }*/
    $languageValue = ($field->hasLanguage())?$translate->_($language[$number]):''; 
    echo output($i, $translate->_($value), $languageValue, $field);
}
if ($field->addLine() || count($field->getValues()) == 0)
{
    $i++;
    echo output($i, '', 'Sprache 1', $field);
}
print ('</table');
print('<br>');
print('<b>is valid: ' . $field->isValid(1) . '</b>');
print('<br>');
print('<b>is mandatoryFilled: ' . $field->isMandatoryFilled() . '</b>');
print('<br>');
if ($field->isRepeatable()) {
    print ('<input type="submit" name="' . $field->getFieldType() . '[add]" value="Feld hinzuf√ºgen"');
}
print ('<hr>');
?>
</div>
