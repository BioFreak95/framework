<?
$field= $this->field;
$translate= Zend_Registry :: getInstance()->get('Zend_Translate');
?>
<div class="<?= $field->getFieldType() ?>">
<?

if ($field->isMandatory())
{
    print ('<img src="../../../library/Opus/Form/mandatory.gif" width="20" />');
}
?>
<b>
<?= $translate->_($field->getName()) ?>
</b>
<br>
<?= $translate->_($field->getName().'_description') ?> 
<?

$i= 0;
$language= $field->getValuesLanguage();
//rint("<b>".print_r($field->getValues(),true)."<br>".print_r($language)."</b>");
$output = '';
$output .= '<tr>' . "\n" . 
        '<td><input type = "text" name = "' . $field->getFieldType() . '[value][%1$d]" ' . 'value = "%2$s"></td>' . "\n" . 
        '<td>';
        
        if ($field->hasLanguage()) {
            $output .= $translate->_('Sprache').': <input name="' . $field->getFieldType() . '[language][%1$d]" type="text" ' . '       value="%3$s" />';
        }
        
$output .= '</td>' . "\n".
        '</tr>';
        
print ('<br><table>');
foreach ($field->getValues() as $number => $value)
{
    $i++;
    /*$errorMessages = $field->getErrorMessages();
    if (isset($errorMessages[$number])) {
        $errorMessages[$number];
    }*/
    /*print ('<tr>');
    print ('<td><input type = "text" name = "' . $field->getFieldType() . '[value][' . $i . ']" ' . 'value = "' . $translate->_($value) . '"></td>');
    print ('<td>Sprache: <input name="' . $field->getFieldType() . '[language][' . $i . ']" type="text" value="' . $translate->_($language[$number]) . '" /></td>');
    print ('</tr>');*/
    //print($output);
    if ($field->hasLanguage()) {
        $languageValue = $translate->_($language[$number]); 
       
    } else {
        $languageValue = '';
    }
    echo sprintf($output, $i, $translate->_($value), $languageValue);
}
if ($field->addLine() || count($field->getValues()) == 0)
{
    $i++;
    /*print ('Sprache: <input name="' . $field->getFieldType() . '[language][' . $i . ']" type="text" value="' . $translate->_('Sprache 1') . '"');
    print ('<br>');
    print ('<input type = "text" name = "' . $field->getFieldType() . '[value][' . $i . ']" ' . 'value = "">');
    print ('<br>');*/
    echo sprintf($output, $i, '', 'Sprache 1');
}
print ('</table');
if ($field->isRepeatable()) {
    print ('<input type="submit" name="' . $field->getFieldType() . '[add]" value="Feld hinzuf√ºgen"');
}
print ('<hr>');
?>
</div>
